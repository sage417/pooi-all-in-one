<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >


<mapper namespace="app.pooi.workflow.infrastructure.persistence.mapper.workflow.agency.TaskAgencyProfileEntityMapper">

    <insert id="insertAgencyProfile" keyColumn="id" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO t_workflow_task_agency_profile (
        tenant_id,
        type,
        delegator
        <if test="entity.processDefinitionKey != null and entity.processDefinitionKey != ''">
            , process_definition_key
        </if>
        <if test="entity.onBehalfOf != null">
            , on_behalf_of
        </if>
        <if test="entity.delegatee != null">
            , delegatee
        </if>
        <if test="entity.validTime != null">
            , valid_time
        </if>
        <if test="entity.invalidTime != null">
            , invalid_time
        </if>
        <if test="entity.createTime != null">
            , create_time
        </if>
        <if test="entity.updateTime != null">
            , update_time
        </if>
        <if test="entity.isDelete != null">
            , is_delete
        </if>
        ) VALUES (
        #{entity.tenantId},
        #{entity.type},
        #{entity.delegator}
        <if test="entity.processDefinitionKey != null and entity.processDefinitionKey != ''">
            , #{entity.processDefinitionKey}
        </if>
        <if test="entity.onBehalfOf != null">
            , #{entity.onBehalfOf}
        </if>
        <if test="entity.delegatee != null">
            ,
            JSON_ARRAY(#{entity.delegatee, typeHandler=com.baomidou.mybatisplus.extension.handlers.JacksonTypeHandler})
        </if>
        <if test="entity.validTime != null">
            , #{entity.validTime}
        </if>
        <if test="entity.invalidTime != null">
            , #{entity.invalidTime}
        </if>
        <if test="entity.createTime != null">
            , #{entity.createTime}
        </if>
        <if test="entity.updateTime != null">
            , #{entity.updateTime}
        </if>
        <if test="entity.isDelete != null">
            , #{entity.isDelete}
        </if>
        )
    </insert>

</mapper>